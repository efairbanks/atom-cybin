os.execute('jack_connect cybin:audio-out_1 system:playback_1')
os.execute('jack_connect cybin:audio-out_2 system:playback_2')

require('ugen')

function T()
  local phase=0
  return function(d,f)
    phase=phase-1/cybin.samplerate
    while phase<=0 do phase=phase+d;f() end
  end
end

t=T()
freq=440
r=Reverb2()
function __process()
  t(1/4,function() freq=math.random()*220+220 end)
  return r(math.sin(cybin.time*freq*math.pi*2)/20),0
end

os.execute('ls')
